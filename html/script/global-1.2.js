$(function(){	if(window.location.hash)  // when the user's browser does not support the html5 it will fall back to hash	{                      //in that case when fresh page will load this code will revert browser to non-hash euivalent of the page		var hash_part = window.location.hash.substring(1);       		var pathname = window.location.pathname;  		window.location = pathname + '?hl=' + hash_part;	}	var width = $(window).width();	if(width < 1180)	{			$('#bottombar').show();			$('#sidebar').hide();	}	$(window).resize(function(){		if(width != $(window).width())		{			width = $(window).width();			if(width < 1180)			{				$('#bottombar').show();				$('#sidebar').hide();			}			else if(width >= 1180)			{				$('#sidebar').show();				$('#bottombar').hide();			}		}	});			setInterval(function(){			$('.time').each(function(){					var time = $(this).attr('data');			$(this).html(time_difference(parseInt(time)));				}); 	},60000);		var page = $('#page_hidden').attr('value');	var profile_relation = $('#profile_relation_hidden').attr('value');	if(page == 'search') action.search();	if(page == 'group_json' || page == 'member' || page == 'group_about' || page == 'group_settings')	{		action.group_suggest(this,6);		action.member_request_fetch();		action.group_top_influencer(this);	}	else if(page == 'friend_suggest')	{		action.friend_suggest_page(this,16);	}	else if(page == 'group_suggest')	{		action.group_suggest_page(this,16);	}	else if(page == 'event_json' || page == 'guest' || page == 'event_about' || page == 'event_settings')	{		action.event_suggest(this,6);	}	else if(page == 'inbox')	{		$('.right_item').remove();		$('html').css('overflow','hidden')		$('#left').html('');		$('#left').css('top','auto');		$('#left').append('<h1 style="color:gray;">Messages</h1>');		$('#left').append('<div id="show_inbox"></div>');		$('#show_inbox').css('height',$(window).height()-100);		$('#left').css('width','206');		$('#show_inbox').css('overflow','auto');		action.actiontype_preview();	} 	else if(page == '')	{			}	if(page != 'inbox' && page != 'event_json' && page != 'guest' && page != 'event_about' && page != 'event_settings' && page != 'group_json' && page != 'member' && page != 'group_about' && page != 'group_settings' && page != 'friend_suggest')	{		action.friend_match();		action.friend_suggest(this,6);		ui.friend_invite();		action.actiontype_preview();	}	$('html').click(function() {	$('#profile_post_privacy_drop').hide();	$('#account').hide();		// We can put more divs here . They will close only if they are opened.	});	});function time_difference(time){	now = Math.floor((new Date()).getTime() / 1000);	if(now == time)		return ' '+'now';	else if(now - 1 < time)		return ' '+'a second ago';	else if(now - 2 < time)		return ' '+'two seconds ago'; 	else if(now - 3 < time)		return ' '+'three seconds ago';	else if(now - 4 < time)		return ' '+'four seconds ago';	else if(now - 5 < time)		return ' '+'five seconds ago';	else if(now - 10 < time)		return ' '+'ten seconds ago';	else if(now - 15 < time)		return ' '+'fifteen seconds ago';	else if(now - 30 < time)		return ' '+'half a minute ago';	else if(now - 45 < time)		return ' '+'forty-five seconds ago';	else if(now - 60 < time)		return ' '+' one minute ago';	else if(now - 120 < time)		return ' '+' two minutes ago';	else if(now - 180 < time)		return ' '+' three minutes ago';	else if(now - 240 < time)		return ' '+' four minutes ago';	else if(now - 300 < time)		return ' '+' five minutes ago';	else if(now - 600 < time)		return ' '+' ten minutes ago';	else if(now - 900 < time)		return ' '+' fifteen minutes ago';	else if(now - 1200 < time)		return ' '+' twenty minutes ago';	else if(now - 1500 < time)		return ' '+' twenty-five minutes ago';	else if(now - 1800 < time)		return ' '+' half an hour ago';	else if(now - 3600 < time)		return ' '+' an hour ago';	else if(now - 7200 < time)		return ' '+'two hours ago';	else if(now - 10800 < time)		return ' '+'three hours ago';	else if(now - 14400 < time)		return ' '+'four hours ago';	else if(now - 18000 < time)		return ' '+'five hours ago';	else if(now - 21600 < time)		return ' '+'six hours ago';	else if(now - 25200 < time)		return ' '+'seven hours ago';	else if(now - 28800 < time)		return ' '+'eight hours ago';	else if(now - 32400 < time)		return ' '+'nine hours ago';	else if(now - 36000 < time)		return ' '+'ten hours ago';	else if(now - 36900 < time)		return ' '+'eleven hours ago';			else if(now - 43200 < time)		return ' '+'twelve hours ago';	else if(now - 46800 < time)		return ' '+'thirteen hours ago';	else if(now - 50400 < time)		return ' '+'fourteen hours ago';	else if(now - 50400 < time)		return ' '+'fifteen hours ago';	else if(now - 57600 < time)		return ' '+'sixteen hours ago';	else if(now - 61200 < time)		return ' '+'seventeen hours ago';	else if(now - 64800 < time)		return ' '+'eighteen hours ago';	else if(now - 68400 < time)		return ' '+'nineteen hours ago';	else if(now - 72000 < time)		return ' '+'twenty hours ago';	else if(now - 75600 < time)		return ' '+'twentyone hours ago';	else if(now - 79200 < time)		return ' '+'twentytwo hours ago';	else if(now - 82800 < time)		return ' '+'twentythree hours ago';	else if(now - 86400 < time)		return ' '+' yesterday';	else if(now - 172800 < time)		return ' '+'two days ago';	else if(now - 259200 < time)		return ' '+'three days ago';	else if(now - 345600 < time)		return ' '+'four days ago';	else if(now - 432000 < time)		return ' '+'five days ago';	else if(now - 518400 < time)		return ' '+'six days ago';			else if(now - 604800 < time)		return ' last week';	else if(now - 1209600 < time)		return ' two weeks ago';	else if(now - 1814400 < time)		return ' three weeks ago';	else if(now - 2419200 < time)		return ' four weeks ago';	else if(now - 2592000 < time)		return ' a month ago';			else if(now - 5184000 < time)		return ' two months ago';	else if(now - 7776000 < time)		return ' three months ago';	else if(now - 10368000 < time)		return ' four months ago';	else if(now - 12960000 < time)		return ' five months ago';	else if(now - 15552000 < time) 		return ' six months ago';	else if(now - 18144000 < time)		return ' seven months ago';	else if(now - 20736000 < time)		return ' eight months ago';	else if(now - 23328000 < time)		return ' nine months ago';	else if(now - 25920000 < time)		return ' ten months ago';	else if(now - 28512000 < time)		return ' eleven months ago';	else if(now - 31104000 < time)		return '  a year ago';	else        return ' over a year ago';	}